# UI形成の背景とユーザー要望の整理 / Why the current UI looks this way

## 目的 / Purpose
- これまでのユーザー指摘や改善提案を集約し、「なぜ今のUI構成になっているのか」を一望できるようにします。
- 今後の開発者がスクリーンショットや追加メモを挟み込みながら、変更の理由を素早く説明できる台帳として使います。
- 要望の傾向を把握し、同種の課題が再発した際に過去の判断根拠を参照できるようにします。

## 情報源 / Sources we already have
- **UsabilityHistory.md**: 課題→対応のストーリーを時系列でまとめたベース資料。【F:Docs/UsabilityHistory.md†L1-L34】
- **UserFeedbackResponses.md**: 時系列表で指摘と対策、参照コードをコンパクトに整理。【F:Docs/UserFeedbackResponses.md†L1-L25】
- 実装箇所: 保存ポップアップ、セッションID表示、ライブラリのグリッド化、フォルダ名生成など。必要に応じて該当ファイルの行を参照することで、UIの実装根拠をすぐに引けます。【F:Docs/UsabilityHistory.md†L5-L30】

## ユーザーの主要な声とUIへの反映
### 1) 「どこに保存されたか分からない」「オフライン時が不安」
- **声の内容**: 保存先の不透明さとオフライン時の挙動への不安。【F:Docs/UsabilityHistory.md†L5-L11】
- **UI設計の根拠**: 保存完了ポップアップにローカル/iCloud/Google Drive を色分けで並列表示し、オフライン時は「queued」を明示することで、ユーザーが即座に状態を把握できるようにしたため。【F:Docs/UsabilityHistory.md†L5-L11】
- **スクショ候補**: 保存完了バナー（オンライン/オフライン両方）。

### 2) 「識別子が分かりにくい、問い合わせで困る」
- **声の内容**: CSVに埋まる識別情報が読み解きづらく、サポート時に混乱する。【F:Docs/UsabilityHistory.md†L13-L18】
- **UI設計の根拠**: 設定画面にSession ID/UUIDセクションを追加し、CSVやクラウドパスに人間ラベルとUUIDを併記する方針を明文化。問い合わせ時に同じ言葉でやり取りできるようにしたため。【F:Docs/UsabilityHistory.md†L13-L18】
- **スクショ候補**: 設定画面の説明セクション、保存ポップアップの「Session」行。

### 3) 「ライブラリ一覧で文脈が読めない」
- **声の内容**: ファイル名だけではドライバーや端末が把握しづらい。【F:Docs/UsabilityHistory.md†L20-L24】
- **UI設計の根拠**: メタデータ（ドライバー/車両/端末/セッションラベル/UUID/日付）をグリッドで表示し、検索・並べ替えもメタデータを対象にしたことで、欲しい記録を素早く発見できるようにしたため。【F:Docs/UsabilityHistory.md†L20-L24】
- **スクショ候補**: ライブラリのグリッド行と検索・ソートUI。

### 4) 「フォルダ名が長くて共有時に混乱する」
- **声の内容**: 端末フォルダ名が長く、空白や揺れで混乱が起きる。【F:Docs/UsabilityHistory.md†L26-L30】
- **UI設計の根拠**: 端末名(整形版) + 機種ラベル + UUID先頭8桁に統一し、可読性と一意性を両立させたため。【F:Docs/UsabilityHistory.md†L26-L30】
- **スクショ候補**: 日付フォルダ配下の端末フォルダ階層。

### 5) 「音声抽出の誤認識をその場で直したい」
- **声の内容**: 長音抜けや誤認識への不満、手動微調整の要望。【F:Docs/UserFeedbackResponses.md†L8-L12】
- **UI設計の根拠**: Meta Voice画面に「手動で微調整」ブロックを追加し、キーワードデフォルトを誤認識語まで拡充することで、音声抽出後すぐに修正できる流れを用意したため。【F:Docs/UserFeedbackResponses.md†L8-L23】
- **スクショ候補**: MetaVoiceEditorView の手動調整セクション。

### 6) 「履歴閲覧中にライブ計測を壊したくない」
- **声の内容**: オートセーブが履歴閲覧時に走ることへの不安。【F:Docs/UserFeedbackResponses.md†L11-L23】
- **UI設計の根拠**: 履歴モードではオートセーブを即停止し、ログ表示で保存イベントを可視化する方針にしたため。【F:Docs/UserFeedbackResponses.md†L11-L23】
- **スクショ候補**: 履歴モード時のステータスログ。

### 7) 「クラウドに上げたくないケースもある」
- **声の内容**: 保存先の選択と共有コントロールへの要望。【F:Docs/UserFeedbackResponses.md†L12-L25】
- **UI設計の根拠**: 設定に「Upload after Save」トグルを設け、ローカルのみ保存も選べるようにしたうえで、端末ニックネームをフォルダ名に埋め込んで誰のデータか識別しやすくしたため。【F:Docs/UserFeedbackResponses.md†L12-L25】
- **スクショ候補**: Profile/Exportセクションとクラウド保存トグル。

## 今後のアップデート時に見るチェックリスト
- 新しいUI変更を検討する際は、上記の「声→根拠」セクションに追記し、過去の判断との整合性を確認してください。
- 既存挙動を変える場合は、ユーザーが重視している可視性・検索性・安全性のどれに影響するかを明示すると説明がスムーズです。
- スクリーンショットを追加する場合は、オンライン/オフラインの違い、履歴モードの状態、検索条件の有無など「文脈」が伝わるものを選んでください。

## 編集メモ
- 章立ては「ユーザーの声→UIの根拠→スクショ候補」で統一すると、後から読んだ人が迷いにくくなります。
- コード参照は Docs 内の既存表記（`F:...†L..`）を活用し、実装場所を即時に辿れるようにしてください。

